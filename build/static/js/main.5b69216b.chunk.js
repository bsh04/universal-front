(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){"use strict";a.d(t,"a",function(){return n});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function n(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},114:function(e,t,a){"use strict";var n=a(1),l=a(2),r=a(4),c=a(3),s=a(7),o=a(5),i=a(0),m=a.n(i),u=a(6),d=a(17),p=a(8),h=(a(135),a(39)),f=a(23),E="https://api.universal.tom.ru/api/";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;-1===e.indexOf("http")&&(e=E+e),n["Content-Type"]=a instanceof FormData?"multipart/form-data":"application/json",n["Access-Control-Request-Headers"]="*",n["Access-Control-Request-Method"]="*",n["Access-Control-Allow-Origin"]="*",!1!==window.store.store.getState().token&&(n.Authorization="Bearer "+window.store.store.getState().token);var c={method:t,mode:"cors",headers:n};"GET"!==t&&(c.body=a instanceof FormData?a:JSON.stringify(a)),a instanceof FormData&&(c.headers={"Access-Control-Allow-Headers":window.location.hostname,Authorization:"Bearer "+window.store.store.getState().token}),fetch(e,c).then(v).then(function(e){var t=e.statusCode,a=e.data;switch(t){case 200:l&&l(a);break;case 400:case 500:window.store.store.dispatch({type:"UPDATE_MODAL_DATA",payload:{show:!0,title:"Error "+t,content:a.error_description?a.error_description:a.message,btnText:"OK"}}),r&&r(a);break;case 401:window.store.store.dispatch({type:"DELETE_TOKEN",payload:{}});break;default:console.log("statusCode",t),console.log("data",a)}})}function v(e){var t=e.status,a=e.text();return Promise.all([t,a]).then(function(e){return{statusCode:e[0],data:"object"===typeof JSON.parse(e[1])?JSON.parse(e[1]):JSON.parse(JSON.parse(e[1]))}})}var y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={path:[{title:"",link:""}]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.path;this.setState({path:e})}},{key:"componentWillReceiveProps",value:function(e){this.setState({path:e.path})}},{key:"go",value:function(e){this.props.history.push(e)}},{key:"bodyView",value:function(){var e=this,t=this.state.path.map(function(t,a){var n=t.link;return a!==e.state.path.length-1?m.a.createElement("li",{className:"breadcrumb-item",key:a},m.a.createElement("a",{href:"#",onClick:function(){return e.go(n)}},t.title)):m.a.createElement("li",{className:"breadcrumb-item active",key:a,"aria-current":"page"},t.title)});return t.unshift(m.a.createElement("li",{className:"breadcrumb-item",key:"uniqKey"},m.a.createElement("a",{href:"#",onClick:function(){return e.go("/")}},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"))),t}},{key:"render",value:function(){return m.a.createElement("nav",{"aria-label":"breadcrumb"},m.a.createElement("ol",{className:"breadcrumb"},this.bodyView()))}}]),t}(i.Component),k=Object(d.f)(y),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={news:[],type:""},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"componentDidMount",value:function(){window.$(".carousel").carousel()}},{key:"handleGet",value:function(){var e=this;b("news/"+this.props.type,"GET",null,{},function(t){e.setState({news:t})})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{id:"carouselExampleIndicators"+this.props.type,className:"carousel slide","data-ride":"carousel"},m.a.createElement("ol",{className:"carousel-indicators"},this.state.news.map(function(t,a){return m.a.createElement("li",{key:a,"data-target":"#carouselExampleIndicators"+e.props.type,"data-slide-to":a,className:0===a?"active":""})})),m.a.createElement("div",{className:"carousel-inner"},this.state.news.map(function(e,t){return m.a.createElement("div",{key:t,className:"carousel-item "+(0===t?"active":"")},m.a.createElement("img",{className:"",src:"https://api.universal.tom.ru/uploads/news/"+e.photo,alt:t+1+" slide"}),m.a.createElement("div",{className:"carousel-caption d-none d-md-block"},m.a.createElement("h5",{className:""},e.title),m.a.createElement("p",{className:""},e.short_content)))})),m.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators"+this.props.type,role:"button","data-slide":"prev"},m.a.createElement("i",{className:"fa fa-arrow-left"}),m.a.createElement("span",{className:"sr-only"},"Previous")),m.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators"+this.props.type,role:"button","data-slide":"next"},m.a.createElement("i",{className:"fa fa-arrow-right"}),m.a.createElement("span",{className:"sr-only"},"Next")))}}]),t}(i.Component),N=a(42),w=a.n(N),O=a(56),j=a(116),S=a(252),C=a(253),x=a(254),D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(s.a)(a)),a.handleBasketAdd=a.handleBasketAdd.bind(Object(s.a)(a)),a.state={news:[],form:!0,cardView:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;e=this.props.cardView?this.props.cardView:"tile",this.setState({cardView:e})}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({cardView:this.props.cardView})}},{key:"handleClick",value:function(){if(this.props.favorite)if(this.props.token){var e={id:this.props.item.id},t=this;b("product/favorite","DELETE",e,{},function(e){t.props.onRemoveFav(t.props.item),t.props.update(t.props.item),t.props.onReloadMenu()},this.state.errorCallback)}else this.props.onError({show:!0,title:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",content:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043b\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.",btnText:"OK"});else if(this.props.token){var a={id:this.props.item.id},n=this;b("product/favorite","POST",a,{},function(e){n.props.onAddFav(n.props.item),n.props.update(n.props.item),n.props.onReloadMenu()},this.state.errorCallback)}else this.props.onError({show:!0,title:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",content:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043b\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.",btnText:"OK"})}},{key:"handleBasketAdd",value:function(){if(this.props.token){var e={product:this.props.item.id,count:this.countInput.value},t=this;b("product/basket","POST",e,{},function(e){t.setState({message:e.message,form:!1}),t.props.onReloadMenu()},this.state.errorCallback)}else this.props.onError({show:!0,title:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",content:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043b\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.",btnText:"OK"})}},{key:"cardContent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.state.cardView;return m.a.createElement("div",{className:"".concat(t," ").concat(n),itemScope:!0,itemType:"http://schema.org/Product"},m.a.createElement("div",{className:"dropleft dropdown-share"},m.a.createElement("button",{className:"btn btn-info btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},m.a.createElement("i",{className:"fa fa-share"})),m.a.createElement("div",{className:"dropdown-menu share","aria-labelledby":"dropdownMenuButton"},m.a.createElement(S.a,{className:"dropdown-item",url:"https://universal.tom.ru/catalog/search?q="+this.props.item.id,children:m.a.createElement("i",{className:"fa fa-vk"}," \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 VK")}),m.a.createElement(C.a,{className:"dropdown-item",url:"https://universal.tom.ru/catalog/search?q="+this.props.item.id,children:m.a.createElement("i",{className:"fa fa-whatsapp"}," \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Whatsapp")}),m.a.createElement(x.a,{className:"dropdown-item",url:"https://universal.tom.ru/catalog/search?q="+this.props.item.id,children:m.a.createElement("i",{className:"fa fa-envelope"}," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e E-mail")}),m.a.createElement("a",{className:"dropdown-item",href:"#",onClick:Object(O.a)(w.a.mark(function t(){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText("https://universal.tom.ru/catalog/search?q="+e.props.item.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Failed to copy: ",t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}))},m.a.createElement("i",{className:"fa fa-clone"}," \u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")))),m.a.createElement(j.a,{small:"placeholder.jpg"===this.props.item.photo?a(36):"https://api.universal.tom.ru/uploads/products/"+this.props.item.photo,large:"placeholder.jpg"===this.props.item.photo?a(36):"https://api.universal.tom.ru/uploads/products/"+this.props.item.photo,alt:this.props.item.title,className:"card-img-top card-img-top-250 mt-3"}),"tile"===this.state.cardView?m.a.createElement("div",{className:"card-body "},m.a.createElement("h5",{className:"card-title text-left font-weight-light ",itemProp:"name"},this.props.item.title),m.a.createElement("p",{className:"card-text text-left font-weight-normal",itemProp:"price"},this.props.item.new?m.a.createElement(u.b,{to:"/catalog/new"},m.a.createElement("span",{className:"badge badge-success"},"\u041d\u043e\u0432\u0438\u043d\u043a\u0430!")):"",this.props.item.stock?m.a.createElement(u.b,{to:"/catalog/stock"},m.a.createElement("span",{className:"badge badge-danger"},"\u0410\u043a\u0446\u0438\u044f!")):"",m.a.createElement("br",null),"\u0426\u0435\u043d\u0430: ",m.a.createElement("span",{style:{fontWeight:700}},this.props.item.price),"  \u0440."),m.a.createElement("p",null,m.a.createElement("i",{className:"fa fa-heart"+(this.props.favorite?" text-danger":""),onClick:this.handleClick}," ",this.props.favorite?"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u043c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),this.state.form?m.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{justifyContent:"center"}},m.a.createElement("div",{className:"input-group mb-2 mr-sm-2 row d-flex flex-wrap justify-content-center"},m.a.createElement("input",{name:"desc",type:"number",required:!0,placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",min:1,defaultValue:1,className:"form-control mb-1 col-xl-4 col-lg-5 col-md-12 col-sm-2 col-12",ref:function(t){e.countInput=t}}),m.a.createElement("div",{className:"pl-1 pr-0 col-xl-8 col-lg-7 col-md-12 col-sm-8 col-12"},m.a.createElement("button",{className:"form-control btn-basket btn btn-success mb-1",onClick:this.handleBasketAdd},m.a.createElement("span",{className:"btn-label"},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 "),m.a.createElement("i",{className:"fa fa-cart-plus"}))))):m.a.createElement("div",{className:"alert alert-success",role:"alert"},m.a.createElement("i",{className:"fa fa-check"}," ",this.state.message)),m.a.createElement("p",{className:"text-left text-muted "},m.a.createElement("small",null,"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",this.props.item.id," ")),m.a.createElement(u.b,{to:"/catalog/product/".concat(this.props.item.id)},m.a.createElement("span",{className:"badge"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0442\u043e\u0432\u0430\u0440\u0443"))):m.a.createElement("div",{className:"card-body row"},m.a.createElement("div",{className:"card-info col-xl-8 col-lg-8 col-md-5 col-sm-5 col-8"},m.a.createElement("h5",{className:"card-title text-left font-weight-light ",itemProp:"name"},this.props.item.title),m.a.createElement("p",{className:"card-text text-left font-weight-normal",itemProp:"price"},this.props.item.new?m.a.createElement(u.b,{to:"/catalog/new"},m.a.createElement("span",{className:"badge badge-success"},"\u041d\u043e\u0432\u0438\u043d\u043a\u0430!")):"",this.props.item.stock?m.a.createElement(u.b,{to:"/catalog/stock"},m.a.createElement("span",{className:"badge badge-danger"},"\u0410\u043a\u0446\u0438\u044f!")):"",m.a.createElement("br",null),"\u0426\u0435\u043d\u0430: ",m.a.createElement("span",{style:{fontWeight:700}},this.props.item.price),"  \u0440."),m.a.createElement("p",{className:"text-left text-muted"},m.a.createElement("small",null,"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",this.props.item.id," "))),m.a.createElement("div",{className:"card-controls col-xl-3 col-lg-3 col-md-4 col-sm-4 col-8"},this.state.form?m.a.createElement("form",{onSubmit:function(e){e.preventDefault()},style:{justifyContent:"center"}},m.a.createElement("div",{className:"input-group mb-2 mr-sm-2 row d-flex flex-wrap justify-content-center"},m.a.createElement("input",{name:"desc",type:"number",required:!0,placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",min:1,defaultValue:1,className:"form-control mb-1 col-xl-4 col-lg-5 col-md-12 col-sm-12 col-12",ref:function(t){e.countInput=t}}),m.a.createElement("div",{className:"pl-1 pr-0 col-xl-8 col-lg-7 col-md-12 col-sm-12 col-12"},m.a.createElement("button",{className:"form-control btn-basket btn btn-success mb-1",onClick:this.handleBasketAdd},m.a.createElement("span",{className:"btn-label"},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 "),m.a.createElement("i",{className:"fa fa-cart-plus"}))))):m.a.createElement("div",{className:"alert alert-success",role:"alert"},m.a.createElement("i",{className:"fa fa-check"}," ",this.state.message)),m.a.createElement("p",null,m.a.createElement("i",{className:"fa fa-heart"+(this.props.favorite?" text-danger":""),onClick:this.handleClick}," ",this.props.favorite?"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u043c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),m.a.createElement(u.b,{to:"/catalog/product/".concat(this.props.item.id)},m.a.createElement("span",{className:"badge"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0442\u043e\u0432\u0430\u0440\u0443"))))))}},{key:"render",value:function(){return m.a.createElement("div",{className:"card-position"},this.cardContent("card"),this.cardContent("card hover"))}}]),t}(i.Component),T=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{onAddFav:function(t){e({type:"ADD_FAVORITE",payload:t})},onRemoveFav:function(t){e({type:"REMOVE_FAVORITE",payload:t})},onError:function(t){e({type:"UPDATE_MODAL_DATA",payload:t})},onReloadMenu:function(){e({type:"RELOAD",payload:!0})}}})(D)),I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={array:a.props.array},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.setState({array:e.array})}},{key:"componentDidMount",value:function(){window.$(".carousel").carousel()}},{key:"render",value:function(){return this.state.array.length>0?m.a.createElement("div",null,m.a.createElement("h2",null,this.props.title),m.a.createElement("div",{id:"carouselExampleIndicators"+this.props.title,className:"carousel slide","data-ride":"carousel"},m.a.createElement("div",{className:"carousel-inner"},this.state.array.map(function(e,t){return m.a.createElement("div",{key:t,className:"carousel-item height-auto "+(0===t?"active":"")},m.a.createElement("div",{className:"card-group"},m.a.createElement(T,{item:e,key:e.id})))})),m.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators"+this.props.title,role:"button","data-slide":"prev"},m.a.createElement("i",{className:"fa fa-arrow-left"}),m.a.createElement("span",{className:"sr-only"},"Previous")),m.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators"+this.props.title,role:"button","data-slide":"next"},m.a.createElement("i",{className:"fa fa-arrow-right"}),m.a.createElement("span",{className:"sr-only"},"Next")))):m.a.createElement("div",null,m.a.createElement("h5",null,this.props.title),m.a.createElement("p",null,'\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 "',this.props.title,'" \u043d\u0435\u0442!'))}}]),t}(i.Component),A=(Object(d.f)(Object(p.b)(function(e,t){return{}},function(e){return{}})(I)),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={news:[],stocks:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/new","GET",null,{},function(t){e.setState({news:t})}),b("product/stock","GET",null,{},function(t){e.setState({stocks:t})})}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(f.Helmet,null,m.a.createElement("meta",{charSet:"utf-8"}),m.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.a.createElement("meta",{name:"theme-color",content:"#000000"}),m.a.createElement("title",null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f - \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"),m.a.createElement("meta",{name:"keywords",content:"\u043a\u0443\u043f\u0438\u0442\u044c \u0445\u043e\u0437\u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e-\u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430"}),m.a.createElement("meta",{name:"description",content:"\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0441\u043f\u0435\u0446. \u043e\u0434\u0435\u0436\u0434\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435!"}),m.a.createElement("meta",{property:"og:description",content:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0430, \u0430\u0432\u0442\u043e \u0438 \u043c\u043d\u043e\u0433\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e!"}),m.a.createElement("meta",{property:"og:title",content:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),m.a.createElement("meta",{property:"og:url",content:"https://universal.tom.ru/"})),m.a.createElement("h3",{className:"text-center"},m.a.createElement(u.b,{to:"/news"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),m.a.createElement(g,{type:"news"}),m.a.createElement("br",null),m.a.createElement("h3",{className:"text-center"},m.a.createElement(u.b,{to:"/catalog/stock"},"\u0410\u043a\u0446\u0438\u0438")),m.a.createElement(g,{type:"stocks"}),m.a.createElement("br",null))}}]),t}(i.Component)),F=a(35),M=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{itemScope:!0,itemType:"http://schema.org/Organization"},m.a.createElement(f.Helmet,null,m.a.createElement("meta",{charSet:"utf-8"}),m.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.a.createElement("meta",{name:"theme-color",content:"#000000"}),m.a.createElement("title",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b - \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"),m.a.createElement("meta",{name:"keywords",content:"\u043a\u0443\u043f\u0438\u0442\u044c \u0445\u043e\u0437\u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e-\u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430"}),m.a.createElement("meta",{name:"description",content:"\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0441\u043f\u0435\u0446. \u043e\u0434\u0435\u0436\u0434\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435!"}),m.a.createElement("meta",{property:"og:description",content:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0430, \u0430\u0432\u0442\u043e \u0438 \u043c\u043d\u043e\u0433\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e!"}),m.a.createElement("meta",{property:"og:title",content:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),m.a.createElement("meta",{property:"og:url",content:"https://universal.tom.ru/contact"})),m.a.createElement(k,{path:[{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}]}),m.a.createElement("h1",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),m.a.createElement("p",{className:"text-left"},m.a.createElement("i",{className:"fa fa-map-marker"}," ",m.a.createElement("span",{itemProp:"streetAddress"},"\u0410\u0434\u0440\u0435\u0441: \u0433. \u0422\u043e\u043c\u0441\u043a, \u0443\u043b. \u0411\u0435\u0440\u0434\u0441\u043a\u0430\u044f, 31 (\u043f\u0435\u0440. \u041f\u043e\u0439\u043c\u0435\u043d\u043d\u044b\u0439 5)")),m.a.createElement("br",null),m.a.createElement("i",{className:"fa fa-phone"}," ",m.a.createElement("span",null,m.a.createElement("a",{href:"tel:+7 (3822) 909291",itemProp:"telephone"},"90-92-91"),", ",m.a.createElement("a",{href:"tel:+7 (3822) 90-44-32",itemProp:"telephone"},"90-44-32"),", ",m.a.createElement("a",{href:"tel:+7 (3822) 902-668",itemProp:"telephone"},"902-668"))),m.a.createElement("br",null),m.a.createElement("i",{className:"fa fa-envelope"}," ",m.a.createElement("span",null,m.a.createElement("a",{href:"mailto:razov@mail.tomsknet.ru",itemProp:"email"},"razov@mail.tomsknet.ru")))),m.a.createElement("h3",null,"\u041e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),m.a.createElement("p",{className:"text-left"},"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u0448\u0435\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u043f\u0442\u043e\u0432\u0430\u044f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044f \u0442\u043e\u0432\u0430\u0440\u0430\u043c\u0438 \u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f: \u043f\u043e\u0441\u0443\u0434\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b. \u041d\u0430\u0448\u0430 \u0446\u0435\u043b\u044c - \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0448\u0438\u0440\u043e\u043a\u043e\u0433\u043e \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442\u0430 \u043f\u043e \u0440\u0430\u0437\u0443\u043c\u043d\u044b\u043c \u0446\u0435\u043d\u0430\u043c.",m.a.createElement("br",null),m.a.createElement("br",null),"\u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f, \u043d\u0438\u0437\u043a\u0438\u0435 \u0446\u0435\u043d\u044b, \u0432\u0437\u0430\u0438\u043c\u043e\u0432\u044b\u0433\u043e\u0434\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b, \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u043a \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u043e\u0441\u0442\u0443 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438.",m.a.createElement("br",null),m.a.createElement("br",null),"\u041c\u044b \u043d\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u043c\u0441\u044f \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442\u043e\u043c, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0441\u0442\u0432\u0443\u0435\u043c \u043d\u0430\u0448\u0438 \u0437\u043d\u0430\u043d\u0438\u044f \u0438 \u043e\u043f\u044b\u0442, \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u044f \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.",m.a.createElement("br",null),m.a.createElement("br",null),"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0435\u043c \u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0443!"),m.a.createElement("br",null),m.a.createElement("hr",null),m.a.createElement("br",null),m.a.createElement(F.YMaps,null,m.a.createElement("div",{className:"map"},m.a.createElement(F.Map,{defaultState:{center:[56.51271706822828,84.94996649999996],zoom:16},style:{width:"80%",margin:"0 auto",height:"80vh"}},m.a.createElement(F.GeolocationControl,null),m.a.createElement(F.SearchControl,null),m.a.createElement(F.ZoomControl,null),m.a.createElement(F.GeoObject,{geometry:{type:"Point",coordinates:[56.51271706822828,84.94996649999996]},properties:{iconContent:"\u041c\u044b \u0437\u0434\u0435\u0441\u044c",hintContent:'\u041e\u041e\u041e "\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"'},options:{preset:"islands#blackStretchyIcon",draggable:!1}})))))}}]),t}(i.Component),G=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={news:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("news/news","GET",null,{},function(t){e.setState({news:t})})}},{key:"render",value:function(){return m.a.createElement("div",{itemScope:!0,itemType:"http://schema.org/NewsArticle"},m.a.createElement(f.Helmet,null,m.a.createElement("meta",{charSet:"utf-8"}),m.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.a.createElement("meta",{name:"theme-color",content:"#000000"}),m.a.createElement("title",null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 - \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"),m.a.createElement("meta",{name:"keywords",content:"\u043a\u0443\u043f\u0438\u0442\u044c \u0445\u043e\u0437\u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e-\u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430"}),m.a.createElement("meta",{name:"description",content:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u041e\u041e\u041e '\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b \u0422\u043e\u043c\u0441\u043a'"}),m.a.createElement("meta",{property:"og:description",content:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u041e\u041e\u041e '\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b \u0422\u043e\u043c\u0441\u043a'"}),m.a.createElement("meta",{property:"og:title",content:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),m.a.createElement("meta",{property:"og:url",content:"https://universal.tom.ru/news"})),m.a.createElement(k,{path:[{title:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}]}),m.a.createElement("h1",null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),this.state.news.map(function(e,t){var a=new Date(e.date);return m.a.createElement("div",{key:t,className:"row news"},m.a.createElement("div",{className:"col-md-3"},m.a.createElement("img",{itemProp:"image",className:"newsImage",alt:"image",src:"https://api.universal.tom.ru/uploads/news/"+e.photo})),m.a.createElement("div",{className:"col-md-9"},m.a.createElement("h5",{className:"text-left",itemProp:"headline"},e.title),m.a.createElement("p",{className:"text-left",itemProp:"articleBody"},e.short_content),m.a.createElement("p",{className:"text-right"},m.a.createElement("small",{itemProp:"dateline"},a.getDate(),"/",a.getMonth()+1,"/",a.getFullYear()))))}))}}]),t}(i.Component),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={articles:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("article/","GET",null,{},function(t){e.setState({articles:t})})}},{key:"render",value:function(){return m.a.createElement("div",{itemScope:!0,itemType:"http://schema.org/ItemList"},m.a.createElement(f.Helmet,null,m.a.createElement("meta",{charSet:"utf-8"}),m.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.a.createElement("meta",{name:"theme-color",content:"#000000"}),m.a.createElement("title",null,"\u0428\u0432\u0435\u0439\u043d\u044b\u0439 \u0446\u0435\u0445 - \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"),m.a.createElement("meta",{name:"keywords",content:"\u043a\u0443\u043f\u0438\u0442\u044c \u0445\u043e\u0437\u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e-\u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430"}),m.a.createElement("meta",{name:"description",content:"\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0441\u043f\u0435\u0446. \u043e\u0434\u0435\u0436\u0434\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435! \u0418\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u0437\u0430\u043a\u0430\u0437. \u041d\u0438\u0437\u043a\u0438\u0435 \u0446\u0435\u043d\u044b."}),m.a.createElement("meta",{property:"og:description",content:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0430, \u0430\u0432\u0442\u043e \u0438 \u043c\u043d\u043e\u0433\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e! \u0418\u0437\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u0437\u0430\u043a\u0430\u0437. \u041d\u0438\u0437\u043a\u0438\u0435 \u0446\u0435\u043d\u044b."}),m.a.createElement("meta",{property:"og:title",content:"\u0428\u0432\u0435\u0439\u043d\u044b\u0439 \u0446\u0435\u0445"}),m.a.createElement("meta",{property:"og:url",content:"https://universal.tom.ru/workshop"})),m.a.createElement(k,{path:[{title:"\u0428\u0432\u0435\u0439\u043d\u044b\u0439 \u0446\u0435\u0445"}]}),m.a.createElement("h1",{itemProp:"headline"},"\u0428\u0432\u0435\u0439\u043d\u044b\u0439 \u0446\u0435\u0445"),m.a.createElement("ul",null,this.state.articles.map(function(e,t){return m.a.createElement("li",{itemProp:"itemListElement",key:t,className:"text-left"},m.a.createElement(u.b,{to:"/workshop/"+e.id},e.title))})))}}]),t}(i.Component),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={categories:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/categories","GET",null,{},function(t){e.setState({categories:t})})}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("br",null),m.a.createElement("h2",null,"\u0412\u0441\u0435 \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0432 \u043d\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438:"),m.a.createElement("ul",{className:"text-left"},this.state.categories.map(function(e,t){return m.a.createElement("li",{key:t},m.a.createElement(u.b,{to:"/catalog/"+e.id},e.title))})))}}]),t}(i.Component),q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).setLimit=function(e){var t=e.target.getAttribute("data");a.setState({limit:t},function(){a.handleGet(a.props.match.params.category)})},a.setSort=function(e){var t=e.target.getAttribute("data").split(",");a.setState({sort:t},function(){a.handleGet(a.props.match.params.category)})},a.isFavorite=a.isFavorite.bind(Object(s.a)(a)),a.updateFav=a.updateFav.bind(Object(s.a)(a)),a.state={products:[],favorites:[],cardView:"tile",viewCount:30,limit:50,sort:["title","asc"],request:!1,path:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"setCategory",value:function(e){return"new"===e?"\u041d\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b":"stock"===e?"\u0422\u043e\u0432\u0430\u0440\u044b \u043f\u043e \u0430\u043a\u0446\u0438\u0438":this.state.products&&this.state.products[0]?this.state.products[0].category.title:void 0}},{key:"componentWillMount",value:function(){if(this.handleGet(this.props.match.params.category),!1!==this.props.token){var e=this;b("product/favorite","GET",null,{},function(t){e.setState({favorites:t})})}}},{key:"componentDidMount",value:function(){var e=this.setCategory(this.props.match.params.category);this.setState({path:e})}},{key:"componentWillReceiveProps",value:function(e){this.setState({viewCount:30}),this.handleGet(e.match.params.category);var t=this.setCategory(e.match.params.category);this.setState({path:t})}},{key:"handleGet",value:function(e){var t={cat:e,limit:this.state.limit,sort_field:"".concat(this.state.sort[0]),sort:"".concat(this.state.sort[1])},a="";for(var n in t)""!=a&&(a+="&"),a+=n+"="+encodeURIComponent(t[n]);var l=this;"search"===e?!this.state.request&&this.props.location.search.length>0&&(this.setState({request:!0}),b("product/search","POST",{data:/%[0-9a-f]{2}/i.test(this.props.location.search.substr(3))?decodeURI(this.props.location.search.substr(3)):this.props.location.search.substr(3)},{},function(e){l.setState({products:e,request:!1})})):b("product/"+e+"?"+a+(this.props.match.params.search?"&data="+this.props.match.params.search:""),"GET",null,{},function(e){l.setState({products:e},function(){l.setState({path:l.setCategory(l.props.match.params.category)})})})}},{key:"updateFav",value:function(e){var t,a=this.state.favorites;this.isFavorite(e)?t=this.state.favorites.filter(function(t){return e.id!==t.id}):(t=a).push(e),this.setState({favorites:t})}},{key:"isFavorite",value:function(e){return this.state.favorites.filter(function(t){return e.id===t.id}).length>0}},{key:"sortSelectedLabel",value:function(){switch(this.state.sort.join("-")){case"title-asc":return"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u0410-\u042f";case"title-desc":return"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u042f-\u0410";case"price-asc":return"\u0446\u0435\u043d\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e";case"price-desc":return"\u0446\u0435\u043d\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"}}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(f.Helmet,null,m.a.createElement("meta",{charSet:"utf-8"}),m.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.a.createElement("meta",{name:"theme-color",content:"#000000"}),m.a.createElement("title",null,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 - \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"),m.a.createElement("meta",{name:"keywords",content:"\u043a\u0443\u043f\u0438\u0442\u044c \u0445\u043e\u0437\u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e-\u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430"}),m.a.createElement("meta",{name:"description",content:"\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0441\u043f\u0435\u0446. \u043e\u0434\u0435\u0436\u0434\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435!"}),m.a.createElement("meta",{property:"og:description",content:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0430, \u0430\u0432\u0442\u043e \u0438 \u043c\u043d\u043e\u0433\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e!"}),m.a.createElement("meta",{property:"og:title",content:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),m.a.createElement("meta",{property:"og:url",content:"https://universal.tom.ru/catalog/*"})),this.state.path?m.a.createElement(k,{path:[{title:this.state.path}]}):null,m.a.createElement("div",{className:"products-toolbar mb-2 col-12"},m.a.createElement("ul",{className:"products-toolbar-group row justify-content-between",style:{paddingRight:0}},m.a.createElement("ul",{className:"row col-xl-3 col-lg-3 col-md-3 col-sm-12 justify-content-center"},m.a.createElement("li",{className:"products-toolbar-item mr-2"},m.a.createElement("a",{href:"#",className:"tile"===this.state.cardView?"text-success":"text-secondary",onClick:function(){e.setState({cardView:"tile"})}},m.a.createElement("i",{className:"fa fa-th"}))),m.a.createElement("li",{className:"products-toolbar-item"},m.a.createElement("a",{href:"#",className:"list"===this.state.cardView?"text-success":"text-secondary",onClick:function(){e.setState({cardView:"list"})}},m.a.createElement("i",{className:"fa fa-list"})))),m.a.createElement("ul",{className:"row col-xl-8 col-lg-8 col-md-8 col-sm-12 justify-content-center"},m.a.createElement("li",{className:"products-toolbar-item mr-1"},m.a.createElement("div",{className:"dropdown"},m.a.createElement("span",{className:"products-toolbar-item__text"},"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435: "),m.a.createElement("a",{className:"dropdown-toggle",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},m.a.createElement("span",{className:"products-toolbar-item__selected"},this.state.limit?this.state.limit:"\u0412\u0441\u0435")),m.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},m.a.createElement("a",{className:"dropdown-item",href:"#",data:"50",onClick:function(t){return e.setLimit(t)}},"50"),m.a.createElement("a",{className:"dropdown-item",href:"#",data:"100",onClick:function(t){return e.setLimit(t)}},"100"),m.a.createElement("a",{className:"dropdown-item",href:"#",data:null,onClick:function(t){return e.setLimit(t)}},"\u0412\u0441\u0435")))),m.a.createElement("li",{className:"products-toolbar-item mr-1"},m.a.createElement("div",{className:"dropdown"},m.a.createElement("span",{className:"products-toolbar-item__text"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e: "),m.a.createElement("a",{className:"dropdown-toggle products-toolbar-item__text",href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},m.a.createElement("span",{className:"products-toolbar-item__selected"},this.sortSelectedLabel())),m.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},m.a.createElement("a",{className:"dropdown-item",href:"#",data:"title,asc",onClick:function(t){return e.setSort(t)}},"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u0410-\u042f"),m.a.createElement("a",{className:"dropdown-item",href:"#",data:"title,desc",onClick:function(t){return e.setSort(t)}},"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u042f-\u0410"),m.a.createElement("a",{className:"dropdown-item",href:"#",data:"price,asc",onClick:function(t){return e.setSort(t)}},"\u0446\u0435\u043d\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"),m.a.createElement("a",{className:"dropdown-item",href:"#",data:"price,desc",onClick:function(t){return e.setSort(t)}},"\u0446\u0435\u043d\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"))))))),m.a.createElement("div",{className:"row"},this.state.products.length>0?this.state.products.map(function(t,a){return a<e.state.viewCount?m.a.createElement("div",{className:"tile"===e.state.cardView?"col-md-3":"col-md-12",style:{paddingBottom:"10px"},key:a},m.a.createElement(T,{item:t,key:t.id,update:e.updateFav,favorite:!!e.isFavorite(t),cardView:e.state.cardView})):void 0}):m.a.createElement("p",{className:"text-center"},"\u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b")),this.state.viewCount<this.state.products.length?m.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({viewCount:e.state.viewCount+30})}},m.a.createElement("i",{className:"fa fa-cloud-download-alt"}," ",m.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"))):null)}}]),t}(i.Component),R=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(q)),V=a(112),L=a.n(V),U=(a(159),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).isFavorite=a.isFavorite.bind(Object(s.a)(a)),a.updateFav=a.updateFav.bind(Object(s.a)(a)),a.handleClick=a.handleClick.bind(Object(s.a)(a)),a.handleBasketAdd=a.handleBasketAdd.bind(Object(s.a)(a)),a.state={item:{},images:[],favorites:[],favorite:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this;b("product/item/".concat(e),"GET",null,{},function(e){var n=e.images.map(function(e){return{original:"".concat("placeholder.jpg"===e?a(36):"https://api.universal.tom.ru/uploads/products/"+e),thumbnail:"".concat("placeholder.jpg"===e?a(36):"https://api.universal.tom.ru/uploads/products/"+e)}});t.setState({item:e,images:n})}),b("product/favorite","GET",null,{},function(e){t.setState({favorites:e})}),this.updateFav(this.state.item)}},{key:"handleClick",value:function(){if(this.state.favorite)if(this.props.token){var e={id:this.state.item.id},t=this;b("product/favorite","DELETE",e,{},function(e){t.props.onRemoveFav(t.state.item),t.updateFav(t.state.item),t.props.onReloadMenu()},this.state.errorCallback)}else this.props.onError({show:!0,title:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",content:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043b\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.",btnText:"OK"});else if(this.props.token){var a={id:this.state.item.id},n=this;b("product/favorite","POST",a,{},function(e){n.props.onAddFav(n.state.item),n.updateFav(n.state.item),n.props.onReloadMenu()},this.state.errorCallback)}else this.props.onError({show:!0,title:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",content:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043b\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.",btnText:"OK"})}},{key:"updateFav",value:function(e){var t,a=this.state.favorites;this.isFavorite(e)?t=this.state.favorites.filter(function(t){return e.id!==t.id}):(t=a).push(e),this.setState({favorites:t})}},{key:"isFavorite",value:function(e){return this.state.favorites.filter(function(t){return e.id===t.id}).length>0}},{key:"handleBasketAdd",value:function(){if(this.props.token){var e={product:this.state.item.id,count:this.countInput.value},t=this;b("product/basket","POST",e,{},function(e){t.setState({message:e.message,form:!1}),t.props.onReloadMenu()},this.state.errorCallback)}else this.props.onError({show:!0,title:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",content:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043b\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442.",btnText:"OK"})}},{key:"render",value:function(){var e=this;return this.state.item?m.a.createElement("div",null,m.a.createElement(f.Helmet,null,m.a.createElement("meta",{charSet:"utf-8"}),m.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),m.a.createElement("meta",{name:"theme-color",content:"#000000"}),m.a.createElement("title",null,this.state.item.title),m.a.createElement("meta",{name:"keywords",content:"\u043a\u0443\u043f\u0438\u0442\u044c \u0445\u043e\u0437\u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e-\u0431\u044b\u0442\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430"}),m.a.createElement("meta",{name:"description",content:"\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b, \u0441\u043f\u0435\u0446. \u043e\u0434\u0435\u0436\u0434\u0430 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435! ".concat(this.state.item?this.state.item.title:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 - \u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b")}),m.a.createElement("meta",{property:"og:description",content:"\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0434\u043b\u044f \u0434\u043e\u043c\u0430, \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0430, \u0430\u0432\u0442\u043e \u0438 \u043c\u043d\u043e\u0433\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e!"}),m.a.createElement("meta",{property:"og:title",content:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),m.a.createElement("meta",{property:"og:url",content:"https://universal.tom.ru/catalog/*"})),this.state.item&&this.state.item.category?m.a.createElement(k,{path:[{title:this.state.item.category.title,link:"/catalog/".concat(this.state.item.category.id)},{title:this.state.item.title}]}):null,m.a.createElement("div",{className:"product-page"},m.a.createElement("div",{className:"row"},m.a.createElement("h5",{className:"card-title text-left font-weight-light col-12"},this.state.item.title),m.a.createElement("p",{className:"text-left text-muted col-12"},m.a.createElement("small",null,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",this.state.item.id," "))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-7 col-10"},m.a.createElement(L.a,{items:this.state.images,thumbnailPosition:"left",showPlayButton:!1,showNav:!1})),m.a.createElement("div",{className:"col-sm-5 col-10 mt-5 my-sm-0 "},m.a.createElement("div",{className:"row "},m.a.createElement("div",{className:"text-left col-8 ",itemProp:"price"},m.a.createElement("span",null,this.state.item.price," \u20bd")),m.a.createElement("div",{className:"col-3 d-flex flex-nowrap"},m.a.createElement("div",{onClick:this.handleClick},m.a.createElement("i",{className:"fa fa-heart fa-2x"+(this.isFavorite(this.state.item)?" text-danger":" text-secondary")})),m.a.createElement("div",{className:"dropleft dropdown-share ml-2"},m.a.createElement("button",{className:"btn btn-info btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},m.a.createElement("i",{className:"fa fa-share"})),m.a.createElement("div",{className:"dropdown-menu share","aria-labelledby":"dropdownMenuButton"},m.a.createElement(S.a,{className:"dropdown-item",url:"https://universal.tom.ru/catalog/search?q="+this.state.item.id,children:m.a.createElement("i",{className:"fa fa-vk"}," \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 VK")}),m.a.createElement(C.a,{className:"dropdown-item",url:"https://universal.tom.ru/catalog/search?q="+this.state.item.id,children:m.a.createElement("i",{className:"fa fa-whatsapp"}," \u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 Whatsapp")}),m.a.createElement(x.a,{className:"dropdown-item",url:"https://universal.tom.ru/catalog/search?q="+this.state.item.id,children:m.a.createElement("i",{className:"fa fa-envelope"}," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e E-mail")}),m.a.createElement("a",{className:"dropdown-item",href:"#",onClick:Object(O.a)(w.a.mark(function t(){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText("https://universal.tom.ru/catalog/search?q="+e.state.item.id);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Failed to copy: ",t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}))},m.a.createElement("i",{className:"fa fa-clone"}," \u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")))))),m.a.createElement("div",{className:"row mt-5"},m.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},m.a.createElement("div",{className:"input-group mb-2 mr-sm-2 row d-flex flex-wrap "},m.a.createElement("input",{name:"desc",type:"number",required:!0,placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",min:1,defaultValue:1,className:"form-control mb-1 col-xl-4 col-lg-5 col-md-12 col-sm-4 col-12",ref:function(t){e.countInput=t}}),m.a.createElement("div",{className:"pl-1 pr-0 col-xl-8 col-lg-7 col-md-12 col-sm-8 col-12"},m.a.createElement("button",{className:"form-control btn-basket btn btn-success mb-1",onClick:this.handleBasketAdd},m.a.createElement("span",{className:"btn-label"},"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 "),m.a.createElement("i",{className:"fa fa-cart-plus"})))))))))):m.a.createElement("p",null,"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...")}}]),t}(i.Component)),W=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{onAddFav:function(t){e({type:"ADD_FAVORITE",payload:t})},onRemoveFav:function(t){e({type:"REMOVE_FAVORITE",payload:t})},onError:function(t){e({type:"UPDATE_MODAL_DATA",payload:t})},onReloadMenu:function(){e({type:"RELOAD",payload:!0})}}})(U)),B=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={article:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.handleGet(e.match.params.id)}},{key:"handleGet",value:function(e){var t=this;b("article/"+e,"GET",null,{},function(e){console.log("Workshop!"),t.setState({article:e})})}},{key:"render",value:function(){return m.a.createElement("div",{itemScope:!0,itemType:"http://schema.org/Article"},this.state.article?m.a.createElement(k,{path:[{title:"\u0428\u0432\u0435\u0439\u043d\u044b\u0439 \u0446\u0435\u0445",link:"/workshop"},{title:this.state.article.title}]}):null,m.a.createElement("h1",{itemProp:"headline"},this.state.article?this.state.article.title:""),m.a.createElement("div",{itemProp:"articleBody",dangerouslySetInnerHTML:{__html:this.state.article?this.state.article.content.replace(/font-family\:[^;]+;?/g,""):""}}))}}]),t}(i.Component),z=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(B)),K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={categories:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/categories","GET",null,{},function(t){e.setState({categories:t})})}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h1",null,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"),m.a.createElement("ul",{className:"text-left"},this.state.categories.map(function(e,t){return m.a.createElement("li",{key:t},m.a.createElement(u.b,{to:"/catalog/"+e.id},e.title))})))}}]),t}(i.Component),H=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"footer"},m.a.createElement("hr",null),m.a.createElement("p",null,'\u041e\u041e\u041e "\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b \u0422\u043e\u043c\u0441\u043a"'),m.a.createElement("p",null,m.a.createElement("a",{href:"https://vladimirov-mv.name"},'\u0421\u0430\u0439\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 "Unicorn Project"')))}}]),t}(i.Component),J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={categories:e.categories,open:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({categories:this.props.categories})}},{key:"changeState",value:function(e){var t=this.state.open;-1===t.indexOf(e)?t.push(e):t.splice(t.indexOf(e),1),this.setState({open:t})}},{key:"itemView",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.location.pathname.split("/");return e.children.length>0?m.a.createElement("div",{key:e.id,className:"text-left "},m.a.createElement("a",{href:"#collapseExample"+e.id,onClick:function(){t.setState({subMenuActive:e.id})},className:"alert-link ".concat(this.state.subMenuActive===e.id?"":"collapsed"),"data-toggle":"collapse",role:"button","aria-expanded":"".concat(this.state.subMenuActive===e.id?"true":"false"),"aria-controls":"collapseExample"+e.id},m.a.createElement("span",null,e.title)),m.a.createElement("div",{className:"".concat(this.state.subMenuActive===e.id?"":"collapse"),id:"collapseExample"+e.id},m.a.createElement("div",{className:"card-body "},e.children.map(function(e){return t.itemView(e)})))):m.a.createElement("div",{key:e.id,className:"text-left "},m.a.createElement(u.b,{to:"/catalog/"+e.id,className:"alert-link",onClick:function(){t.props.onClick()}},"bold"!==a?m.a.createElement("span",null,e.title):m.a.createElement("b",null,m.a.createElement("span",null,e.title))))}},{key:"render",value:function(){var e=this;window.location.pathname.split("/");return m.a.createElement("div",{className:"alert alert-success"},this.itemView({id:"new",children:[],title:"\u041d\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"},"bold"),this.itemView({id:"stock",children:[],title:"\u0422\u043e\u0432\u0430\u0440\u044b \u043f\u043e \u0430\u043a\u0446\u0438\u0438"},"bold"),m.a.createElement("hr",null),this.state.categories?this.state.categories.map(function(t){return e.itemView(t)}):null)}}]),t}(i.Component),$=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(J)),Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={searchValue:null,searchFieldOnFocus:!1},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=decodeURI(this.props.location.search.slice(3));this.setState({searchValue:e})}},{key:"handleSearch",value:function(e){e.preventDefault();var t=window.location.pathname.split("/"),a=this.state.searchValue;this.state.searchInCat?this.props.history.push("/"+t[1]+"/"+t[2]+"/"+a,{searchValue:a}):this.props.history.push("/catalog/search?q="+a,{searchValue:a}),this.props.history.go()}},{key:"render",value:function(){var e=this,t=window.location.pathname.split("/"),a=!1;return this.state.searchFieldOnFocus&&(a=!0),m.a.createElement("form",{className:"position-relative search-form",id:"search-form",onSubmit:function(t){return e.handleSearch(t)},onBlur:function(){setTimeout(function(){e.setState({searchFieldOnFocus:!1})},200)}},m.a.createElement("div",{className:"input-group mb-2"},m.a.createElement("input",{type:"text",form:"search-form",onFocus:function(){e.props.onFocus(),setTimeout(function(){e.setState({searchFieldOnFocus:!0})},200)},className:"form-control",ref:function(t){e.searchField=t},id:"inlineFormInputGroup",defaultValue:"catalog"===t[1]&&t.length>3&&"product"!==t[2]?decodeURI(t[3]):this.state.searchValue,onInput:function(t){return e.setState({searchValue:t.target.value})},placeholder:"\u041f\u043e\u0438\u0441\u043a"}),m.a.createElement("div",{className:"input-group-append",style:{zIndex:1}},m.a.createElement("div",{className:"input-group-text btn btn-success",onClick:function(t){return e.handleSearch(t)}},m.a.createElement("i",{className:"fa fa-search"}))),a?m.a.createElement("div",{className:"form-check"},m.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"inlineFormCheck",form:"search-form",ref:function(t){return e.categorySearch=t},defaultChecked:this.state.searchInCat,onClick:function(){e.setState({searchInCat:e.categorySearch.checked}),e.searchField.focus()}}),m.a.createElement("label",{className:"form-check-label",htmlFor:"inlineFormCheck",form:"search-form"},"\u0418\u0441\u043a\u0430\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")):null))}}]),t}(i.Component),Q=Object(d.f)(Y),Z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).menuItemRender=a.menuItemRender.bind(Object(s.a)(a)),a.handleGet=a.handleGet.bind(Object(s.a)(a)),a.handleLogout=a.handleLogout.bind(Object(s.a)(a)),a.state={showCatalog:!1,showNavbar:!1,searchInMenu:!0,categories:[],redirect:null,like:[],basket:[],leftItems:[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/"},{title:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",path:"/news"},{title:"\u0428\u0432\u0435\u0439\u043d\u044b\u0439 \u0446\u0435\u0445",path:"/workshop"},{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",path:"/contact"},{title:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430",path:"/deliveryandpayment"}],rightItems:[{title:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430",permission:"admin",items:[{title:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",path:"/admin/product/update"},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0431\u0435\u0437 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",path:"/admin/product/image"},{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0448\u0432\u0435\u0439\u043d\u044b\u043c \u0446\u0435\u0445\u043e\u043c",path:"/admin/workshop"},{title:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430",path:"/admin/deliveryandpayment"},{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u043c\u0438",path:"/admin/news"},{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u044f\u043c\u0438",path:"/admin/stocks"},{title:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",path:"/admin/export"}]},{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",items:[{title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",path:"/user/basket"},{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",path:"/user/favorite"},{title:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b",path:"/user/order"},{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",path:"/user/data/change"},{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",path:"/user/password/change"}]}]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleGet(),this.handleGetCategories(),this.checkWidnowSizeMD(),window.addEventListener("resize",this.checkWidnowSizeMD.bind(this))}},{key:"checkWidnowSizeMD",value:function(){window.innerWidth>=992&&this.setState({searchInMenu:!1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkWidnowSizeMD.bind(this))}},{key:"handleLogout",value:function(){this.props.onDeleteUser(),this.props.onDeleteToken()}},{key:"componentWillReceiveProps",value:function(e,t){e.reload.reload&&(e.onReloadedMenu(),this.handleGet())}},{key:"handleGetCategories",value:function(){var e=this;b("product/categories","GET",null,{},function(t){var a=t.map(function(e){return e.children.length>1&&(e.children=e.children.sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})),e});e.setState({categories:a})})}},{key:"handleGet",value:function(){var e=this;this.props.token&&(b("product/basket","GET",null,{},function(t){e.setState({basket:t})}),b("product/favorite","GET",null,{},function(t){e.setState({like:t})}))}},{key:"menuItemRender",value:function(e,t){var a=this;if(void 0===e.permission||"admin"==e.permission&&this.props.user.roles&&-1!==this.props.user.roles.indexOf("ROLE_ADMIN")){if(Array.isArray(e.items)){var n=!1;return e.items.map(function(e){e.path===window.location.pathname&&(n=!0)}),e.path?m.a.createElement("li",{className:"nav-item dropdown"+(n?" active":""),key:t},m.a.createElement("a",{href:"#",className:"nav-link dropdown-toggle",id:"navbarDropdown"+t,role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return a.handleGoTo(e.path)}},e.title),m.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"+t},e.items.map(function(t,a){return m.a.createElement("a",{className:"dropdown-item"+(t.path===window.location.pathname?" active":""),href:e.path+t.path,key:a},t.title)}))):m.a.createElement("li",{className:"nav-item dropdown"+(n?" active":""),key:t},m.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown"+t,role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.title),m.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"+t},e.items.map(function(e,t){return m.a.createElement(u.b,{className:"dropdown-item"+(e.path===window.location.pathname?" active":""),to:e.path,key:t},e.title)})))}return m.a.createElement("li",{key:t,className:"nav-item"+(e.path===window.location.pathname?" active":""),onClick:function(){return a.toggleNavbarView()}},m.a.createElement(u.b,{className:"nav-link",to:e.path},e.title))}}},{key:"toggleCatalogView",value:function(){var e=this.state.showCatalog;this.setState({showCatalog:!e})}},{key:"hideCatalog",value:function(){this.setState({showCatalog:!1})}},{key:"toggleNavbarView",value:function(){var e=this.state.showNavbar;this.hideCatalog(),e&&this.setState({showNavbar:!1,showCatalog:!1})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("div",{className:"mainImage"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-3 my-3 my-md-0"},m.a.createElement(u.b,{to:"/"},m.a.createElement("h1",{className:"text-center"},"\u0423\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b"),m.a.createElement("h2",{className:"text-center"},"\u0425\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"))),m.a.createElement("div",{className:"col-md-2 my-3 my-md-0"},m.a.createElement("p",{className:"text-md-left text-center"},m.a.createElement("span",null,m.a.createElement("i",{className:"fa fa-phone"}," ",m.a.createElement("a",{href:"tel:+7 (3822) 909291",itemProp:"telephone"},"+7 (3822) 90-92-91")),m.a.createElement("br",null),m.a.createElement("i",{className:"fa fa-phone"}," ",m.a.createElement("a",{href:"tel:+7 (3822) 90-44-32",itemProp:"telephone"},"+7 (3822) 90-44-32")),m.a.createElement("br",null),m.a.createElement("i",{className:"fa fa-phone"}," ",m.a.createElement("a",{href:"tel:+7 (3822) 902-668",itemProp:"telephone"},"+7 (3822) 902-668"))),m.a.createElement("br",null))),m.a.createElement("div",{className:"col-md-3 text-md-left text-center my-3 my-md-0"},m.a.createElement("i",{className:"fa fa-envelope "}," ",m.a.createElement("a",{href:"email:razov@mail.tomsknet.ru",itemProp:"email"},"razov@mail.tomsknet.ru")),m.a.createElement("br",null),m.a.createElement("p",{className:"street-addres",itemProp:"streetAddress"},m.a.createElement("i",{className:"fa fa-map-marker"})," \u0410\u0434\u0440\u0435\u0441: \u0433. \u0422\u043e\u043c\u0441\u043a, \u0443\u043b. \u0411\u0435\u0440\u0434\u0441\u043a\u0430\u044f, 31 ",m.a.createElement("br",null),"(\u043f\u0435\u0440. \u041f\u043e\u0439\u043c\u0435\u043d\u043d\u044b\u0439 5)")),m.a.createElement("div",{className:"col-md-2 my-3 my-md-0"},m.a.createElement("div",{className:"shedule"},"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b"),m.a.createElement("div",{className:"shedule-tooltip"},m.a.createElement("p",null,m.a.createElement("b",null,"\u041f\u041d-\u041f\u0422")," ",m.a.createElement("span",null,"9:00 - 17:00")),m.a.createElement("p",null,m.a.createElement("b",null,"\u0421\u0411")," ",m.a.createElement("span",null,"9:00 - 14:00")),m.a.createElement("p",null,m.a.createElement("b",null,"\u0412\u0421")," ",m.a.createElement("span",null,"\u0412\u042b\u0425\u041e\u0414\u041d\u041e\u0419")))),m.a.createElement("div",{className:"col-md-2 text-md-right text-center my-3 my-md-0"},m.a.createElement("p",null,this.props.token?m.a.createElement(u.b,{to:"/user/basket",className:"iconButtons"},m.a.createElement("i",{className:"fa fa-shopping-cart"}," "),this.state.basket.length>0?m.a.createElement("span",{className:"badge badge-danger"},this.state.basket.length):null):"",this.props.token?m.a.createElement(u.b,{to:"/user/favorite",className:"iconButtons"},m.a.createElement("i",{className:"fa fa-heart"}," "),this.state.like.length>0?m.a.createElement("span",{className:"badge badge-danger"},this.state.like.length):null):"")))),m.a.createElement("nav",{className:"navbar navbar-light navbar-expand-lg fixed"},m.a.createElement("button",{className:this.state.showNavbar?"navbar-toggler":"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":this.state.showNavbar?"false":"true","aria-label":"Toggle navigation",onClick:function(){return e.setState({showNavbar:!0})}},m.a.createElement("i",{className:"navbar-toggler-icon"})),this.state.searchInMenu?m.a.createElement("ul",{className:"navbar-nav ml-auto mt-2"},m.a.createElement("li",{className:"nav-item"},m.a.createElement(Q,{onFocus:function(){return e.hideCatalog()}}))):null,m.a.createElement("div",{className:this.state.showNavbar?"collapse navbar-collapse show":"collapse navbar-collapse",id:"navbarSupportedContent"},m.a.createElement("ul",{className:"navbar-nav mr-auto"},m.a.createElement("li",{className:"nav-item catalog_link"},m.a.createElement("a",{className:"nav-link",onClick:function(){e.toggleCatalogView()}},m.a.createElement("i",{className:"fa fa-bars"}),m.a.createElement("span",null," \u041a\u0430\u0442\u0430\u043b\u043e\u0433")),this.state.showCatalog?m.a.createElement("div",{className:"catalog_main"},m.a.createElement($,{categories:this.state.categories,onClick:function(){return e.hideCatalog()}})):""),this.state.leftItems.map(function(t,a){return e.menuItemRender(t,a)})),this.state.searchInMenu?null:m.a.createElement("ul",{className:"navbar-nav mr-auto"},m.a.createElement("li",{className:"nav-item"},m.a.createElement(Q,{onFocus:function(){return e.hideCatalog()}}))),m.a.createElement("ul",{className:"navbar-nav ml-auto"},this.props.token?this.state.rightItems.map(function(t,a){return e.menuItemRender(t,a)}):"",this.props.token?m.a.createElement("li",{className:"nav-item"},m.a.createElement("a",{href:"#",className:"nav-link",onClick:this.handleLogout},"\u0412\u044b\u0445\u043e\u0434")):m.a.createElement("li",{className:"nav-item"+("/login"===window.location.pathname?" active":"")},m.a.createElement(u.b,{className:"nav-link",to:"/login"},"\u0412\u043e\u0439\u0442\u0438")),this.props.token?"":m.a.createElement("li",{className:"nav-item"+("/register"===window.location.pathname?" active":"")},m.a.createElement(u.b,{className:"nav-link",to:"/register"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))),m.a.createElement("div",{style:{height:"56px"}}))}}]),t}(i.Component),X=Object(d.f)(Object(p.b)(function(e){return{token:e.token,user:e.user,reload:e.reload}},function(e){return{onDeleteToken:function(t){e({type:"DELETE_TOKEN",payload:t})},onDeleteUser:function(t){e({type:"DELETE_USER",payload:t})},onReloadedMenu:function(){e({type:"RELOADED",payload:!0})}}})(Z)),ee=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"loadingBlock"},m.a.createElement("div",null,m.a.createElement("img",{src:a(160),alt:"loading..."})))}}]),t}(i.Component),te=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).viewLoading=a.viewLoading.bind(Object(s.a)(a)),a.viewForm=a.viewForm.bind(Object(s.a)(a));return a.state={loading:!1,errors:[],request:b,errorCallback:function(e){a.setState({loading:!1})}},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"viewForm",value:function(){return"..."}},{key:"viewLoading",value:function(){return m.a.createElement(ee,null)}},{key:"render",value:function(){return this.state.loading?this.viewLoading():this.viewForm()}}]),t}(i.Component),ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.updateUser=a.updateUser.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t=this,a={grant_type:"password",username:this.emailInput.value,password:this.passInput.value,client_id:"1_4ks7w5c3rmkgw00sckwow04c884w8wgw8kc48k8skw4g80s8k8",client_secret:"104knitpf57kgk80kks0g80gow8s0csw0g8g8cs4s0ggwg4c0w"};this.state.request("https://api.universal.tom.ru/oauth/v2/token","POST",a,{},function(e){t.updateUser(e.access_token,function(){return t.props.onAddToken(e.access_token)})},this.state.errorCallback)}},{key:"updateUser",value:function(e,t){var a=this;b("user/get","GET",null,{Authorization:"Bearer "+e},function(e){a.props.onAddUser(e),t()},this.state.errorCallback)}},{key:"viewForm",value:function(){var e=this;return m.a.createElement("div",{className:"w-75"},m.a.createElement("h4",{className:"text-center"},"\u0412\u043e\u0439\u0442\u0438"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"E-mail:*",className:"form-control ",ref:function(t){e.emailInput=t}}),m.a.createElement("input",{name:"pass",type:"password",required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c:*",className:"form-control ",ref:function(t){e.passInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-sign-in"}," ",m.a.createElement("span",null,"\u0412\u043e\u0439\u0442\u0438"))))),m.a.createElement(u.b,{to:"/password/reset"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(u.b,{to:"/register",className:"btn btn-primary"},m.a.createElement("i",{className:"fa fa-user-plus"}," ",m.a.createElement("span",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))}}]),t}(te),ne=Object(d.f)(Object(p.b)(function(e){return{store:e}},function(e){return{onAddToken:function(t){e({type:"ADD_TOKEN",payload:t})},onAddUser:function(t){e({type:"ADD_USER",payload:t})}}})(ae)),le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});if(!/^\w+([\\.-]?\w+?-{0,4})*@\w+([\\.-]?\w+)*(\.\w{2,6})+$/.test(this.emailInput.value))return alert('\u041f\u043e\u043b\u0435 "E-mail" \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e'),void this.setState({loading:!1});var t=this,a={email:this.emailInput.value,pass:this.passInput.value,confirmPass:this.cpassInput.value,fio:this.nameInput.value,phone:this.phoneInput.value,address:this.addressInput.value};this.state.request("https://api.universal.tom.ru/security/register","POST",a,{},function(){t.props.history.push("/login")})}},{key:"viewForm",value:function(){var e=this;return m.a.createElement("div",{className:""},m.a.createElement("h4",{className:"text-center"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"E-mail:*",minLength:5,className:"form-control ",ref:function(t){e.emailInput=t}}),m.a.createElement("input",{name:"fio",type:"text",required:!0,placeholder:"\u0418\u043c\u044f:*",className:"form-control ",ref:function(t){e.nameInput=t}}),m.a.createElement("input",{name:"sname",type:"text",required:!0,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:*",className:"form-control ",ref:function(t){e.phoneInput=t}}),m.a.createElement("input",{name:"fname",type:"text",required:!0,placeholder:"\u0410\u0434\u0440\u0435\u0441:*",className:"form-control ",ref:function(t){e.addressInput=t}}),m.a.createElement("input",{name:"pass",type:"password",required:!0,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c:*",minLength:6,className:"form-control ",ref:function(t){e.passInput=t}}),m.a.createElement("input",{name:"cpass",type:"password",required:!0,placeholder:"\u0415\u0449\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:*",className:"form-control ",ref:function(t){e.cpassInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-user-plus"}," ",m.a.createElement("span",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))),m.a.createElement(u.b,{to:"/login",className:"btn btn-primary"},m.a.createElement("i",{className:"fa fa-sign-in"}," ",m.a.createElement("span",null,"\u0412\u0445\u043e\u0434"))))}}]),t}(te),re=Object(d.f)(Object(p.b)(function(e,t){return{}},function(e){return{}})(le)),ce=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t=this;this.state.request("https://api.universal.tom.ru/security/resetpassword/"+this.emailInput.value,"GET",{},{},function(){t.setState({message:!0,loading:!1})},function(){t.setState({loading:!1})})}},{key:"viewForm",value:function(){var e=this;return this.state.message?m.a.createElement("div",null,m.a.createElement("div",{className:"alert alert-success",role:"alert"},m.a.createElement("i",{className:"fa fa-check"}," \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0447\u0442\u0443. \u0412\u0430\u043c \u0432\u044b\u0441\u043b\u0430\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f.",m.a.createElement("br",null),"\u0415\u0441\u043b\u0438 \u043f\u0438\u0441\u044c\u043c\u0430 \u043d\u0435\u0442, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432 \u0441\u043f\u0430\u043c\u0435."))):m.a.createElement("div",{className:""},m.a.createElement("h4",{className:"text-center"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"E-mail:*",minLength:5,className:"form-control ",ref:function(t){e.emailInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-key"}," ",m.a.createElement("span",null,"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"))))),m.a.createElement(u.b,{to:"/login",className:"btn btn-primary"},m.a.createElement("i",{className:"fa fa-sign-in"}," ",m.a.createElement("span",null,"\u0412\u0445\u043e\u0434"))))}}]),t}(te),se=Object(d.f)(Object(p.b)(function(e,t){return{}},function(e){return{}})(ce)),oe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={article:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("article/service","GET",null,{},function(t){e.setState({article:t})})}},{key:"render",value:function(){return this.state.article&&console.log(this.state.article),m.a.createElement("div",null,m.a.createElement(k,{path:[{title:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430",link:"/deliveryandpayment"}]}),m.a.createElement("h1",null,"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"),this.state.article?m.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.article.content}}):"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442")}}]),t}(i.Component),ie=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(oe)),me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={redirectUrl:"/",showMenu:!0},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillUpdate",value:function(e,t,a){this.props.location.pathname!==e.location.pathname&&this.props.updateFrom(this.props.location.pathname)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(X,null),m.a.createElement("div",{className:"content row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement(d.d,null,m.a.createElement(d.b,{exact:!0,path:"/",component:A}),m.a.createElement(d.b,{exact:!0,path:"/contact",component:M}),m.a.createElement(d.b,{exact:!0,path:"/news",component:G}),m.a.createElement(d.b,{exact:!0,path:"/workshop",component:_}),m.a.createElement(d.b,{exact:!0,path:"/workshop/:id",component:z}),m.a.createElement(d.b,{exact:!0,path:"/catalog",component:K}),m.a.createElement(d.b,{exact:!0,path:"/catalog/product/:id",component:W}),m.a.createElement(d.b,{exact:!0,path:"/catalog/:category/:search",component:R}),m.a.createElement(d.b,{exact:!0,path:"/catalog/:category",component:R}),m.a.createElement(d.b,{exact:!0,path:"/deliveryandpayment",component:ie}),m.a.createElement(d.b,{exact:!0,path:"/about",component:P}),m.a.createElement(d.b,{exact:!0,path:"/register",render:function(){return!1!==e.props.token?m.a.createElement(d.a,{to:"/login"}):m.a.createElement(re,null)}}),m.a.createElement(d.b,{exact:!0,path:"/password/reset",render:function(){return!1!==e.props.token?m.a.createElement(d.a,{to:"/login"}):m.a.createElement(se,null)}}),m.a.createElement(d.b,{exact:!0,path:"/login",render:function(){return!1!==e.props.token?m.a.createElement(d.a,{to:"/login"!==e.props.from?e.props.from:"/"}):m.a.createElement(ne,null)}})))),m.a.createElement(h.CircleArrow,null),m.a.createElement(H,null))}}]),t}(i.Component),ue=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(me)),de=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t=new FormData;t.append("file",this.fileInput.files[0]),t.append("her","her");var a=this;this.state.request("product/update","POST",t,{},function(e){a.setState({loading:!1,message:e.message})},this.state.errorCallback)}},{key:"viewForm",value:function(){var e=this;return m.a.createElement("div",{className:"w-75"},m.a.createElement("h4",{className:"text-center"},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u0445"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"file",type:"file",required:!0,placeholder:"\u0424\u0430\u0439\u043b \u0441 \u0434\u0430\u043d\u044b\u043c\u0438:*",className:"form-control ",ref:function(t){e.fileInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-upload"}," ",m.a.createElement("span",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b"))))),this.state.message?m.a.createElement("div",{className:"alert alert-success",role:"alert"},this.state.message):"")}}]),t}(te),pe=Object(p.b)(function(e){return{store:e}},function(e){return{}})(de),he=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={products:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/without_image","GET",null,{},function(t){e.setState({products:t})})}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h1",null,"\u0422\u043e\u0432\u0430\u0440\u044b \u0431\u0435\u0437 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f:"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u041a\u043e\u0434:"),m.a.createElement("th",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435:"))),m.a.createElement("tbody",null,this.state.products.map(function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.id),m.a.createElement("td",null,e.title))}))))}}]),t}(i.Component),fe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.state={news:[],add:!1,edit:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("news/news","GET",null,{},function(t){e.setState({news:t})})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData;t.append("photo",this.fileInput.files[0]),t.append("title",this.titleInput.value),t.append("type","news"),t.append("short_content",this.contentInput.value);var a=this;b("news/","POST",t,{},function(e){var t=a.state.news;t.push(e),a.setState({news:t,add:!1})},this.state.errorCallback)}},{key:"handleEdit",value:function(e){var t={id:this.state.news[e].id,title:this.titleEditInput.value,short_content:this.contentEditInput.value},a=this;b("news/","PUT",t,{},function(t){var n=a.state.news;n[e]=t,a.setState({news:n,edit:null})},this.state.errorCallback)}},{key:"handleDelete",value:function(e){var t={id:this.state.news[e].id},a=this;b("news/","DELETE",t,{},function(t){var n=a.state.news;n.splice(e,1),a.setState({news:n})},this.state.errorCallback)}},{key:"viewAdd",value:function(){var e=this;return this.state.add?m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"title",type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:*",className:"form-control ",ref:function(t){e.titleInput=t}}),m.a.createElement("input",{name:"desc",type:"text",required:!0,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:*",className:"form-control ",ref:function(t){e.contentInput=t}}),m.a.createElement("input",{name:"file",type:"file",required:!0,placeholder:"\u0424\u0430\u0439\u043b \u0441 \u0434\u0430\u043d\u044b\u043c\u0438:*",className:"form-control ",accept:"image/*",ref:function(t){e.fileInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-plus"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b")),m.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.setState({add:!1})}},m.a.createElement("i",{className:"fa fa-times"}," \u041e\u0442\u043c\u0435\u043d\u0430")))))):m.a.createElement("tr",null,m.a.createElement("td",null),m.a.createElement("td",null),m.a.createElement("td",null),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({add:!0})}},m.a.createElement("i",{className:"fa fa-plus"}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"))))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("h4",{className:"text-center"},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u044f\u043c\u0438"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),m.a.createElement("th",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),m.a.createElement("th",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),m.a.createElement("tbody",null,this.viewAdd(),this.state.news.length>0?this.state.news.map(function(t,a){return e.state.edit===a?m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,m.a.createElement("input",{name:"title",type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:*",defaultValue:t.title,className:"form-control ",ref:function(t){e.titleEditInput=t}})),m.a.createElement("td",null,m.a.createElement("input",{name:"desc",type:"text",required:!0,placeholder:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435:*",defaultValue:t.short_content,className:"form-control ",ref:function(t){e.contentEditInput=t}})),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleEdit(a)}},m.a.createElement("i",{className:"fa fa-save"}," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.setState({edit:null})}},m.a.createElement("i",{className:"fa fa-times"}," \u041e\u0442\u043c\u0435\u043d\u0430")))):m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,t.title),m.a.createElement("td",null,t.short_content),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.setState({edit:a})}},m.a.createElement("i",{className:"fa fa-edit"}," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(a)}},m.a.createElement("i",{className:"fa fa-trash"}," \u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043f\u0443\u0441\u0442")))))}}]),t}(i.Component),Ee=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.state={news:[],add:!1,edit:null},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("news/stocks","GET",null,{},function(t){e.setState({news:t})})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData;t.append("photo",this.fileInput.files[0]),t.append("title",this.titleInput.value),t.append("type","stocks"),t.append("short_content",this.contentInput.value);var a=this;b("news/","POST",t,{},function(e){var t=a.state.news;t.push(e),a.setState({news:t,add:!1})},this.state.errorCallback)}},{key:"handleEdit",value:function(e){var t={id:this.state.news[e].id,title:this.titleEditInput.value,short_content:this.contentEditInput.value},a=this;b("news/","PUT",t,{},function(t){var n=a.state.news;n[e]=t,a.setState({news:n,edit:null})},this.state.errorCallback)}},{key:"handleDelete",value:function(e){var t={id:this.state.news[e].id},a=this;b("news/","DELETE",t,{},function(t){var n=a.state.news;n.splice(e,1),a.setState({news:n})},this.state.errorCallback)}},{key:"viewAdd",value:function(){var e=this;return this.state.add?m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"title",type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:*",className:"form-control ",ref:function(t){e.titleInput=t}}),m.a.createElement("input",{name:"desc",type:"text",required:!0,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:*",className:"form-control ",ref:function(t){e.contentInput=t}}),m.a.createElement("input",{name:"file",type:"file",required:!0,placeholder:"\u0424\u0430\u0439\u043b \u0441 \u0434\u0430\u043d\u044b\u043c\u0438:*",className:"form-control ",accept:"image/*",ref:function(t){e.fileInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-plus"}," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b")),m.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.setState({add:!1})}},m.a.createElement("i",{className:"fa fa-times"}," \u041e\u0442\u043c\u0435\u043d\u0430")))))):m.a.createElement("tr",null,m.a.createElement("td",null),m.a.createElement("td",null),m.a.createElement("td",null),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({add:!0})}},m.a.createElement("i",{className:"fa fa-plus"}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043a\u0446\u0438\u044e"))))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("h4",{className:"text-center"},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u044f\u043c\u0438"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),m.a.createElement("th",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),m.a.createElement("th",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),m.a.createElement("tbody",null,this.viewAdd(),this.state.news.length>0?this.state.news.map(function(t,a){return e.state.edit===a?m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,m.a.createElement("input",{name:"title",type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:*",defaultValue:t.title,className:"form-control ",ref:function(t){e.titleEditInput=t}})),m.a.createElement("td",null,m.a.createElement("input",{name:"desc",type:"text",required:!0,placeholder:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435:*",defaultValue:t.short_content,className:"form-control ",ref:function(t){e.contentEditInput=t}})),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleEdit(a)}},m.a.createElement("i",{className:"fa fa-save"}," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.setState({edit:null})}},m.a.createElement("i",{className:"fa fa-times"}," \u041e\u0442\u043c\u0435\u043d\u0430")))):m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,t.title),m.a.createElement("td",null,t.short_content),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.setState({edit:a})}},m.a.createElement("i",{className:"fa fa-edit"}," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(a)}},m.a.createElement("i",{className:"fa fa-trash"}," \u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0446\u0438\u0439 \u043f\u0443\u0441\u0442")))))}}]),t}(i.Component),be=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={categories:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/categories","GET",null,{},function(t){console.log(t),e.setState({categories:t})})}},{key:"handleExport",value:function(e){window.open(E+"product/csv/"+e+"/"+(e-5),"__blank")}},{key:"viewTr",value:function(e,t){for(var a=this,n=this,l=[],r="",c=0;c<t;c++)r+=">";return l.push(m.a.createElement("tr",{key:e.id},m.a.createElement("td",null,r," ",e.id),m.a.createElement("td",null,e.title),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){return a.handleExport(e.id)}},"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))),e.children&&e.children.forEach(function(e){n.viewTr(e,t+1).forEach(function(e){l.push(e)})}),l}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("h1",null,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0434\u0430\u043d\u043d\u044b\u0445:"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u041a\u043e\u0434:"),m.a.createElement("th",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435:"),m.a.createElement("th",null,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"))),m.a.createElement("tbody",null,this.state.categories.map(function(t,a){return e.viewTr(t,0)}))))}}]),t}(i.Component),ve=a(15),ye=a(49),ke=a(43),ge=a.n(ke),Ne=a(58),we=a.n(Ne),Oe=(a(105),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a.onEditorStateChange=a.onEditorStateChange.bind(Object(s.a)(a)),a.onEditorStateChangeE=a.onEditorStateChangeE.bind(Object(s.a)(a)),a.state={articles:[],add:!1,edit:null,editorState:ve.EditorState.createEmpty(),editorStateE:ve.EditorState.createEmpty()},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("article/","GET",null,{},function(t){e.setState({articles:t})})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData;t.append("title",this.titleInput.value),t.append("content",ge()(Object(ve.convertToRaw)(this.state.editorState.getCurrentContent())));var a=this;b("article/","POST",t,{},function(e){var t=a.state.articles;t.push(e),a.setState({articles:t,add:!1})},this.state.errorCallback)}},{key:"handleEdit",value:function(e){var t={id:this.state.articles[e].id,title:this.titleEditInput.value,content:ge()(Object(ve.convertToRaw)(this.state.editorStateE.getCurrentContent()))},a=this;b("article/","PUT",t,{},function(t){var n=a.state.articles;n[e]=t,a.setState({articles:n,edit:null,editorStateE:ve.EditorState.createEmpty()})},this.state.errorCallback)}},{key:"handleDelete",value:function(e){var t={id:this.state.articles[e].id},a=this;b("article/","DELETE",t,{},function(t){var n=a.state.articles;n.splice(e,1),a.setState({articles:n})},this.state.errorCallback)}},{key:"onEditorStateChange",value:function(e){this.setState({editorState:e})}},{key:"onEditorStateChangeE",value:function(e){this.setState({editorStateE:e})}},{key:"viewAdd",value:function(){var e=this;return this.state.add?m.a.createElement("tr",null,m.a.createElement("td",{colSpan:3},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"title",type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:*",className:"form-control ",ref:function(t){e.titleInput=t}}),m.a.createElement("br",null),m.a.createElement("label",null,"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"),m.a.createElement(ye.Editor,{editorState:this.state.editorState,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",editorStyle:{border:"1px solid #ffffff",backgroundColor:"#ffffff"},onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"]}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-plus"}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.setState({add:!1})}},m.a.createElement("i",{className:"fa fa-times"}," \u041e\u0442\u043c\u0435\u043d\u0430")))))):m.a.createElement("tr",null,m.a.createElement("td",null),m.a.createElement("td",null),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({add:!0,editorState:ve.EditorState.createEmpty()})}},m.a.createElement("i",{className:"fa fa-plus"}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("h4",{className:"text-center"},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0448\u0432\u0435\u0439\u043d\u044b\u043c \u0446\u0435\u0445\u043e\u043c"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),m.a.createElement("th",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),m.a.createElement("tbody",null,this.viewAdd(),this.state.articles.length>0?this.state.articles.map(function(t,a){return e.state.edit===a?m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,m.a.createElement("input",{name:"title",type:"text",required:!0,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a:*",defaultValue:t.title,className:"form-control ",ref:function(t){e.titleEditInput=t}}),m.a.createElement("br",null),m.a.createElement("label",null,"\u0422\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"),m.a.createElement(ye.Editor,{editorState:e.state.editorStateE,initialContentState:t.content?t.content:"",toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",editorStyle:{border:"1px solid #ffffff",backgroundColor:"#ffffff"},onEditorStateChange:e.onEditorStateChangeE,toolbar:{options:["inline","blockType","fontSize","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"]}})),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleEdit(a)}},m.a.createElement("i",{className:"fa fa-save"}," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-warning",onClick:function(){e.setState({edit:null})}},m.a.createElement("i",{className:"fa fa-times"}," \u041e\u0442\u043c\u0435\u043d\u0430")))):m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,t.title),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-primary",onClick:function(){var n=we()(t.content);if(n){var l=ve.ContentState.createFromBlockArray(n.contentBlocks),r=ve.EditorState.createWithContent(l);e.setState({editorStateE:r,edit:a})}else e.setState({edit:a})}},m.a.createElement("i",{className:"fa fa-edit"}," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(a)}},m.a.createElement("i",{className:"fa fa-trash"}," \u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0441\u043b\u0443\u0433 \u0448\u0432\u0435\u0439\u043d\u043e\u0433\u043e \u0446\u0435\u0445\u0430 \u043f\u0443\u0441\u0442")))))}}]),t}(i.Component)),je=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={article:null,editorState:ve.EditorState.createEmpty()},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.handleGet()}},{key:"componentDidMount",value:function(){}},{key:"handleGet",value:function(){var e=this;b("article/service","GET",null,{},function(t){var a=null;if(!Array.isArray(t)){a=t;var n=we()(a.content);if(n){var l=ve.ContentState.createFromBlockArray(n.contentBlocks),r=ve.EditorState.createWithContent(l);e.setState({editorState:r,article:a})}}})}},{key:"handleCreate",value:function(){var e=new FormData;e.append("title","\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"),e.append("content",ge()(Object(ve.convertToRaw)(this.state.editorState.getCurrentContent()))),e.append("type","service");var t=this;b("article/","POST",e,{},function(e){t.props.history.push("/deliveryandpayment")},function(e){alert(e)})}},{key:"handleEdit",value:function(){var e={id:this.state.article.id,title:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430",content:ge()(Object(ve.convertToRaw)(this.state.editorState.getCurrentContent())),type:"service"},t=this;b("article/","PUT",e,{},function(e){t.props.history.push("/deliveryandpayment")},this.state.errorCallback)}},{key:"onEditorStateChange",value:function(e){this.setState({editorState:e})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,this.state.article?this.state.article.title:""))),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement(ye.Editor,{editorState:this.state.editorState,initialContentState:this.state.article?this.state.article.content:"",toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",editorStyle:{border:"1px solid #ffffff",backgroundColor:"#ffffff",minHeight:"50vh"},onEditorStateChange:function(t){return e.onEditorStateChange(t)},toolbar:{options:["inline","blockType","fontSize","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"]}}))))),m.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.state.article?e.handleEdit():e.handleCreate()}},m.a.createElement("i",{className:"fa fa-edit"}," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))}}]),t}(i.Component),Se=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(je)),Ce=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){!1!==this.props.token&&void 0!==this.props.user.roles&&-1!==this.props.user.roles.indexOf("ROLE_ADMIN")||this.props.history.replace("/login")}},{key:"componentWillUpdate",value:function(e,t,a){this.props.location.pathname!==e.location.pathname&&this.props.updateFrom(this.props.location.pathname)}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(X,null),m.a.createElement("div",{className:"row content"},m.a.createElement("div",{className:"col-md-2"}),m.a.createElement("div",{className:"col-md-8"},m.a.createElement(d.d,null,m.a.createElement(d.b,{exact:!0,path:"/admin/product/update",component:pe}),m.a.createElement(d.b,{exact:!0,path:"/admin/product/image",component:he}),m.a.createElement(d.b,{exact:!0,path:"/admin/news",component:fe}),m.a.createElement(d.b,{exact:!0,path:"/admin/export",component:be}),m.a.createElement(d.b,{exact:!0,path:"/admin/stocks",component:Ee}),m.a.createElement(d.b,{exact:!0,path:"/admin/workshop",component:Oe}),m.a.createElement(d.b,{exact:!0,path:"/admin/deliveryandpayment",component:Se}))),m.a.createElement("div",{className:"col-md-2"})),m.a.createElement(h.CircleArrow,null))}}]),t}(i.Component),xe=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token,user:e.user}},function(e){return{}})(Ce)),De=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleBasketAdd=a.handleBasketAdd.bind(Object(s.a)(a)),a.state={products:[],form:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/favorite","GET",null,{},function(t){e.setState({products:t})})}},{key:"handleDelete",value:function(e){var t={id:this.state.products[e].id},a=this;b("product/favorite","DELETE",t,{},function(t){var n=a.state.products;n.splice(e,1),a.setState({products:n}),a.props.onReloadMenu()},this.state.errorCallback)}},{key:"handleBasketAdd",value:function(e){var t={product:this.state.products[e].id,count:this.countInput.value},a=this;b("product/basket","POST",t,{},function(t){var n=a.state.form;n.push(a.state.products[e].id),a.setState({message:t.message,form:n})},this.state.errorCallback)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(k,{path:[{title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}]}),m.a.createElement("h4",{className:"text-center"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b:"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null),m.a.createElement("th",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),m.a.createElement("th",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),m.a.createElement("tbody",null,this.state.products.length>0?this.state.products.map(function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,n+1),m.a.createElement("td",null,m.a.createElement("img",{className:"fav-img",src:"placeholder.jpg"===t.photo?a(36):"https://api.universal.tom.ru/uploads/products/"+t.photo,alt:"Card image cap"})),m.a.createElement("td",null,m.a.createElement("h5",{className:"text-left"},t.title),m.a.createElement("p",{className:"card-text"},m.a.createElement("small",{className:"text-muted"},"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",t.id," ")," ",t.new?m.a.createElement("span",{className:"badge badge-success"},"\u041d\u043e\u0432\u0438\u043d\u043a\u0430!"):""," ",t.stock?m.a.createElement("span",{className:"badge badge-danger"},"\u0410\u043a\u0446\u0438\u044f!"):"",m.a.createElement("br",null),"\u0426\u0435\u043d\u0430: ",t.price," \u0440."),-1===e.state.form.indexOf(t.id)?m.a.createElement("form",{className:"form-inline",onSubmit:function(e){e.preventDefault()}},m.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},m.a.createElement("input",{name:"desc",type:"number",required:!0,placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",min:1,defaultValue:1,className:"form-control mb-1 mr-sm-1",ref:function(t){e.countInput=t}}),m.a.createElement("div",{className:"input-group-prepend"},m.a.createElement("button",{className:"btn btn-success mb-1 ",onClick:function(){return e.handleBasketAdd(n)}},m.a.createElement("i",{className:"fa fa-cart-plus"}))))):m.a.createElement("div",{className:"alert alert-success",role:"alert"},m.a.createElement("i",{className:"fa fa-check"}," ",m.a.createElement("span",null,e.state.message)))),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(n)}},m.a.createElement("i",{className:"fa fa-trash"}," ",m.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u043f\u0443\u0441\u0442")))))}}]),t}(i.Component),Te=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{onReloadMenu:function(){e({type:"RELOAD",payload:!0})}}})(De)),Ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleUpdate=a.handleUpdate.bind(Object(s.a)(a)),a.state={products:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("product/basket","GET",null,{},function(t){e.setState({products:t})})}},{key:"handleUpdate",value:function(e,t){var a={id:this.state.products[e].id,count:t},n=this;b("product/basket","PUT",a,{},function(t){var a=n.state.products;a[e]=t,n.setState({products:a})},this.state.errorCallback)}},{key:"handleDelete",value:function(e){var t={id:this.state.products[e].id},a=this;b("product/basket","DELETE",t,{},function(t){var n=a.state.products;n.splice(e,1),a.setState({products:n})},this.state.errorCallback)}},{key:"render",value:function(){var e=this,t=0;return this.state.products.forEach(function(e){t+=e.count*e.product.price}),m.a.createElement("div",null,m.a.createElement(k,{path:[{title:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}]}),m.a.createElement("h4",{className:"text-center"},"\u041c\u043e\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430:"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null),m.a.createElement("th",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),m.a.createElement("th",null,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),m.a.createElement("tbody",null,this.state.products.length>0?this.state.products.map(function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,n+1),m.a.createElement("td",null,m.a.createElement("img",{className:"fav-img",src:"placeholder.jpg"===t.product.photo?a(36):"https://api.universal.tom.ru/uploads/products/"+t.product.photo,alt:"Card image cap"})),m.a.createElement("td",null,m.a.createElement("h5",{className:"text-left"},t.product.title),m.a.createElement("p",{className:"card-text"},m.a.createElement("small",{className:"text-muted"},"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",t.product.id," ")," ",t.new?m.a.createElement("span",{className:"badge badge-success"},"\u041d\u043e\u0432\u0438\u043d\u043a\u0430!"):""," ",t.stock?m.a.createElement("span",{className:"badge badge-danger"},"\u0410\u043a\u0446\u0438\u044f!"):"",m.a.createElement("br",null),"\u0426\u0435\u043d\u0430: ",t.product.price," * ",t.count," = ",t.product.price*t.count," \u0440.",0==t.product.balance?m.a.createElement("div",{className:"alert alert-danger",role:"alert"},"\u042d\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438. \u041f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 \u043e\u043d \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0447\u0442\u0435\u043d."):""),m.a.createElement("form",{className:"form-inline",onSubmit:function(e){e.preventDefault()}},m.a.createElement("div",{className:"input-group mb-2 mr-sm-2"},m.a.createElement("input",{name:"desc",type:"number",required:!0,placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",min:1,defaultValue:t.count,className:"form-control mb-1 mr-sm-1",onChange:function(t){e.handleUpdate(n,t.target.value)}})))),m.a.createElement("td",null,m.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(n)}},m.a.createElement("i",{className:"fa fa-trash"}," ",m.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},"\u041c\u043e\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430")),this.state.products.length>0?m.a.createElement("tr",null,m.a.createElement("td",{colSpan:3},m.a.createElement("p",{className:"h5"},"\u0418\u0442\u043e\u0433\u043e: ",t," \u0440\u0443\u0431\u043b\u0435\u0439.")),m.a.createElement("td",null,m.a.createElement(u.b,{to:"/user/order/add",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-check"}," ",m.a.createElement("span",null,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"))))):null)))}}]),t}(i.Component),Ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t=this,a={current_pass:this.opassInput.value,new_pass:this.cpassInput.value,confirm_pass:this.cpassInput.value};this.state.request("user/change/password","POST",a,{},function(e){t.setState({loading:!1}),t.props.history.push("/")},this.state.errorCallback)}},{key:"viewForm",value:function(){var e=this;return m.a.createElement("div",{className:"w-75"},m.a.createElement(k,{path:[{title:"\u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"}]}),m.a.createElement("h4",{className:"text-center"},"\u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"pass",type:"password",required:!0,placeholder:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:*",className:"form-control ",ref:function(t){e.opassInput=t}}),m.a.createElement("input",{name:"pass",type:"password",required:!0,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:*",className:"form-control ",ref:function(t){e.passInput=t}}),m.a.createElement("input",{name:"pass",type:"password",required:!0,placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:*",className:"form-control ",ref:function(t){e.cpassInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-edit"}," ",m.a.createElement("span",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"))))))}}]),t}(te),Fe=Object(p.b)(function(e){return{store:e}},function(e){return{}})(Ae),Me=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t=this,a={email:this.emailInput.value,address:this.addressInput.value,phone:this.phoneInput.value,fio:this.nameInput.value};this.state.request("user/edit","PUT",a,{},function(e){t.props.onAddUser(e),t.setState({loading:!1})},this.state.errorCallback)}},{key:"viewForm",value:function(){var e=this;return m.a.createElement("div",{className:"w-75"},m.a.createElement(k,{path:[{title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}]}),m.a.createElement("h4",{className:"text-center"},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"email",type:"email",required:!0,placeholder:"E-mail:*",defaultValue:this.props.user.email,minLength:5,className:"form-control ",ref:function(t){e.emailInput=t}}),m.a.createElement("input",{name:"fio",type:"text",required:!0,placeholder:"\u0418\u043c\u044f:*",defaultValue:this.props.user.fio,className:"form-control ",ref:function(t){e.nameInput=t}}),m.a.createElement("input",{name:"sname",type:"text",required:!0,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:*",defaultValue:this.props.user.phone,className:"form-control ",ref:function(t){e.phoneInput=t}}),m.a.createElement("input",{name:"fname",type:"text",required:!0,defaultValue:this.props.user.address,placeholder:"\u0410\u0434\u0440\u0435\u0441:*",className:"form-control ",ref:function(t){e.addressInput=t}}),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-edit"}," ",m.a.createElement("span",null,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"))))))}}]),t}(te),Ge=Object(p.b)(function(e){return{user:e.user}},function(e){return{onAddUser:function(t){e({type:"ADD_USER",payload:t})}}})(Me),_e=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({loading:!0});var t=this,a={address:this.addressInput.value,phone:this.phoneInput.value,comment:this.commentInput.value?this.commentInput.value:null,pay_type:"money"};this.state.request("order/","POST",a,{},function(e){t.setState({loading:!1}),t.props.history.push("/user/order")},this.state.errorCallback)}},{key:"viewForm",value:function(){var e=this;return m.a.createElement("div",{className:"w-75"},m.a.createElement("h4",{className:"text-center"},"\u0423\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430:"),m.a.createElement("p",{className:"text-left"},"\u0424\u0418\u041e: ",this.props.user.fio," ",m.a.createElement("br",null),"Email: ",this.props.user.email),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("input",{name:"email",type:"text",required:!0,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:*",defaultValue:this.props.user.phone,minLength:5,className:"form-control ",ref:function(t){e.phoneInput=t}}),m.a.createElement("input",{name:"fio",type:"text",required:!0,placeholder:"\u0410\u0434\u0440\u0435\u0441:*",defaultValue:this.props.user.address,className:"form-control ",ref:function(t){e.addressInput=t}}),m.a.createElement("input",{name:"comment",type:"text",required:!1,maxLength:250,placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443",className:"form-control ",ref:function(t){e.commentInput=t}}),m.a.createElement("p",{className:"text-left"},"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u043e \u0433.\u0422\u043e\u043c\u0441\u043a\u0443 \u043e\u0442 3000 \u0440\u0443\u0431 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430 (\u043a\u0440\u043e\u043c\u0435 \u043e\u0442\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0439\u043e\u043d\u043e\u0432).",m.a.createElement("br",null),"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u043e \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0425 \u0440\u0443\u0431/\u043a\u043c.",m.a.createElement("br",null),"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0435\u043c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 (\u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0439 \u0441\u043b\u0443\u0436\u0431\u044b) \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430"),m.a.createElement("br",null),m.a.createElement("p",{className:"text-center"},m.a.createElement("button",{type:"submit",className:"btn btn-success"},m.a.createElement("i",{className:"fa fa-check"}," ",m.a.createElement("span",null,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"))))))}}]),t}(te),Pe=Object(p.b)(function(e){return{user:e.user}},function(e){return{}})(_e),qe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).handleDuplicate=a.handleDuplicate.bind(Object(s.a)(a)),a.state={orders:[],message:[]},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleGet()}},{key:"handleGet",value:function(){var e=this;b("order/","GET",null,{},function(t){e.setState({orders:t})})}},{key:"handleDuplicate",value:function(e){var t=this;b("order/duplicate","POST",{id:e},{},function(a){var n=t.state.message;n[e]=a.message,t.setState({message:n})})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(k,{path:[{title:"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b"}]}),m.a.createElement("h4",{className:"text-center"},"\u041c\u043e\u0438 \u0437\u0430\u043a\u0430\u0437\u044b:"),m.a.createElement("table",{className:"table table-striped table-hover"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"#"),m.a.createElement("th",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),m.a.createElement("th",null))),m.a.createElement("tbody",null,this.state.orders.length>0?this.state.orders.map(function(t,a){var n=0,l=new Date(t.date);return m.a.createElement("tr",{key:a},m.a.createElement("td",null,a+1),m.a.createElement("td",null,m.a.createElement("div",{"data-toggle":"collapse","data-target":"#collapseExample"+a,"aria-expanded":"false","aria-controls":"collapseExample"+a},m.a.createElement("p",null,m.a.createElement("b",null,"\u0417\u0430\u043a\u0430\u0437 \u043e\u0442 ",l.getDate(),"/",l.getMonth()+1,"/",l.getFullYear()))),t.items.map(function(e,t){Math.ceil(Math.abs((new Date-new Date(e.product.updated))/864e5));return n+=e.count*e.product.price,m.a.createElement("div",{key:t,className:"collapse",id:"collapseExample"+a},m.a.createElement("h5",{className:"text-left"},e.product.title),m.a.createElement("p",{className:"card-text"},m.a.createElement("small",{className:"text-muted"},"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",e.product.id," ")," ",e.product.new?m.a.createElement("span",{className:"badge badge-success"},"\u041d\u043e\u0432\u0438\u043d\u043a\u0430!"):""," ",e.product.stock?m.a.createElement("span",{className:"badge badge-danger"},"\u0410\u043a\u0446\u0438\u044f!"):"",m.a.createElement("br",null),"\u0426\u0435\u043d\u0430: ",e.product.price," * ",e.count," = ",e.product.price*e.count," \u0440.",0==e.product.balance?m.a.createElement("div",{className:"alert alert-danger",role:"alert"},"\u042d\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438. \u041f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 \u043e\u043d \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0447\u0442\u0435\u043d."):""),m.a.createElement("br",null))}),m.a.createElement("p",null,m.a.createElement("b",null,"\u0418\u0442\u043e\u0433\u043e: ",n," \u0440\u0443\u0431\u043b\u0435\u0439."))),m.a.createElement("td",null,e.state.message[t.id]?m.a.createElement("div",{className:"alert alert-success",role:"alert"},m.a.createElement("i",{className:"fa fa-check"}," ",e.state.message[t.id])):m.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.handleDuplicate(t.id)}},m.a.createElement("i",{className:"fa fa-copy"}," \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"))))}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:4},"\u042f \u0435\u0449\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u043b(\u0430)")))))}}]),t}(i.Component),Re=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){!1===this.props.token&&this.props.history.replace("/login")}},{key:"componentWillUpdate",value:function(e,t,a){this.props.location.pathname!==e.location.pathname&&this.props.updateFrom(this.props.location.pathname)}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(X,null),m.a.createElement("div",{className:"row content"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement(d.d,null,m.a.createElement(d.b,{exact:!0,path:"/user/favorite",component:Te}),m.a.createElement(d.b,{exact:!0,path:"/user/order/add",component:Pe}),m.a.createElement(d.b,{exact:!0,path:"/user/order",component:qe}),m.a.createElement(d.b,{exact:!0,path:"/user/data/change",component:Ge}),m.a.createElement(d.b,{exact:!0,path:"/user/basket",component:Ie}),m.a.createElement(d.b,{exact:!0,path:"/user/password/change",component:Fe})))),m.a.createElement(h.CircleArrow,null),m.a.createElement(H,null))}}]),t}(i.Component),Ve=Object(d.f)(Object(p.b)(function(e,t){return{token:e.token}},function(e){return{}})(Re)),Le=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).state={hasError:!1},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?m.a.createElement("div",null,m.a.createElement("h1",null,"\u041e\u0448\u0438\u0431\u043a\u0430..."),m.a.createElement("p",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438 ;-)")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(i.Component),Ue=a(32),We=a.n(Ue),Be=function(e){function t(e,a){var l;return Object(n.a)(this,t),(l=Object(r.a)(this,Object(c.a)(t).call(this,e,a))).state={modal:e.modal},l}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onClear()}},{key:"componentWillReceiveProps",value:function(e){this.setState({modal:e.modal})}},{key:"componentDidUpdate",value:function(){this.props.modal.show?We()("#myModal").show():We()("#myModal").hide()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",id:"myModal"},m.a.createElement("div",{className:"modal-dialog",role:"document"},m.a.createElement("div",{className:"modal-content"},m.a.createElement("div",{className:"modal-header"},m.a.createElement("h5",{className:"modal-title"},this.state.modal.title),m.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return e.props.onClear()}},m.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),m.a.createElement("div",{className:"modal-body"},m.a.createElement("p",null,this.state.modal.content)),m.a.createElement("div",{className:"modal-footer"},m.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e.props.onClear()}},this.state.modal.btnText)))))}}]),t}(i.Component),ze=Object(p.b)(function(e){return{modal:e.modal}},function(e){return{onClear:function(){e({type:"CLEAR_MODAL_DATA",payload:{}})}}})(Be),Ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).updateFrom=a.updateFrom.bind(Object(s.a)(a)),a.state={from:e.location.pathname},a}return Object(o.a)(t,e),Object(l.a)(t,[{key:"updateFrom",value:function(e){this.setState({from:e})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"App"},m.a.createElement(Le,null,m.a.createElement(u.a,null,m.a.createElement(d.d,null,m.a.createElement(d.b,{path:"/admin",component:function(){return m.a.createElement(xe,{updateFrom:e.updateFrom})}}),m.a.createElement(d.b,{path:"/user",component:function(){return m.a.createElement(Ve,{updateFrom:e.updateFrom})}}),m.a.createElement(d.b,{path:"/",render:function(){return m.a.createElement(ue,{from:e.state.from,updateFrom:e.updateFrom})}}))),m.a.createElement(ze,null)))}}]),t}(i.Component);t.a=Object(d.f)(Object(p.b)(function(e){return{loc:e.location}},function(e){return{}})(Ke))},115:function(e,t,a){"use strict";var n=a(28),l=a(73),r=a(108),c=a.n(r),s=a(109);var o={show:!1,title:"",content:"",btnText:"OK"};var i=Object(n.b)({routing:s.routerReducer,token:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOKEN":case"UPDATE_TOKEN":return t.payload;case"DELETE_TOKEN":return!1;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":case"UPDATE_USER":return t.payload;case"DELETE_USER":return!1;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MODAL_DATA":return t.payload;case"CLEAR_MODAL_DATA":return o;default:return e}},reload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reload:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"RELOAD":return{reload:!0};case"RELOADED":return{reload:!1};default:return e}}}),m={key:"root",storage:c.a},u=Object(l.a)(m,i);t.a=function(){var e=Object(n.c)(u);return{store:e,persistor:Object(l.b)(e)}}},118:function(e,t,a){e.exports=a(119)},119:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),l=a(30),r=a.n(l),c=a(8),s=a(107),o=a(6),i=a(17),m=a(32),u=a.n(m),d=(a(128),a(129),a(130),a(115)),p=a(114),h=a(113);window.jQuery=u.a,window.$=u.a,e.jQuery=u.a,a(250);var f=Object(d.a)();window.store=f,r.a.render(n.a.createElement(c.a,{store:f.store},n.a.createElement(s.a,{loading:null,persistor:f.persistor},n.a.createElement(o.a,null,n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/*",component:p.a}))))),document.getElementById("root")),h.a()}.call(this,a(14))},129:function(e,t,a){},135:function(e,t,a){},160:function(e,t,a){e.exports=a.p+"static/media/loading.2181d643.gif"},36:function(e,t,a){e.exports=a.p+"static/media/image-placeholder.8a09e1b3.png"}},[[118,1,2]]]);
//# sourceMappingURL=main.5b69216b.chunk.js.map